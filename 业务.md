4. # 考试系统业务总结
   
   ## 一、系统整体定位
   
   基于 C/S 架构的 Java 考试管理系统，通过 Socket 实现客户端与服务器实时交互，采用文件序列化存储数据，支持 "学生考试→教师批改→成绩查询" 全流程管理，同时提供管理员用户信息维护功能。
   
   ## 二、核心业务流程与角色分工
   
   ### 1. 管理员端：用户信息管理（系统基础支撑）
   
   - **核心职责**：维护学生、教师账号信息，为登录和权限校验提供数据基础
   
   - 具体业务
   
     ：
   
     - **登录验证**：通过管理员账户密码登录，服务器校验合法性
   
     - 学生管理
   
       ：
   
       - 添加学生（录入姓名 + 准考证号，服务器持久化到`stuMap.txt`）
       - 删除学生（通过准考证号移除，同步更新文件）
       - 查询所有学生（展示系统内全部学生的准考证号和姓名）
   
     - 教师管理
   
       ：
   
       - 添加教师（录入姓名 + 工号，服务器持久化到`teaMap.txt`）
       - 删除教师（通过工号移除，同步更新文件）
       - 查询所有教师（展示系统内全部教师的工号和姓名）
   
     - **资源管理**：退出时自动关闭连接和流资源，避免泄漏
   
   ### 2. 学生端：考试参与全流程
   
   - **核心职责**：完成从登录、获取试卷、作答到提交的考试全流程，并查询成绩
   
   - 具体业务
   
     ：
   
     - **登录验证**：通过姓名 + 准考证号登录，服务器校验是否在管理员添加的`stuMap`中
   
     - 开始考试
   
       ：
   
       - 向服务器请求试卷，服务器随机分配试卷并记录开始时间
       - 接收试卷内容并本地保存，启动监听线程接收考试提醒（如 "剩余 30 分钟"）和结束通知
   
     - 提交试卷
   
       ：
   
       - 上传答案文件内容，服务器校验文件有效性（存在、非空、可读取）
       - 生成唯一答卷文件名（含学号、姓名、提交时间、考试时长），保存至 "待批改目录"
       - 提交成功后标记状态为 "已提交"，禁止重复提交（支持网络异常后重试）
   
     - 成绩查询
   
       ：
   
       - 服务器返回考试记录，根据状态展示：
         - 未提交：提示 "尚未提交试卷"
         - 已提交未批改：提示 "等待教师批改中"
         - 已批改：显示分数、提交时间等详情
   
   ### 3. 教师端：试卷批改与管理
   
   - **核心职责**：查看待批改试卷、下载答卷、录入分数，并管理批改记录
   
   - 具体业务
   
     ：
   
     - **登录验证**：通过姓名 + 工号登录，服务器校验是否在管理员添加的`teaMap`中
   
     - 试卷管理
   
       ：
   
       - 查看待批改试卷列表（含学生姓名、学号、提交时间、考试时长）
       - 下载指定答卷到本地查看内容
   
     - 批改流程
   
       ：
   
       - 输入分数后，服务器将答卷从 "待批改目录" 转移至 "已批改目录"，文件名新增教师工号标识
       - 更新考试记录中的分数和批改状态，持久化保存
   
     - **记录查询**：查看当前教师批改过的所有试卷，支持按学生信息筛选
   
   ### 4. 服务器端：业务逻辑与数据支撑
   
   - **核心职责**：处理客户端请求、维护系统状态、管理数据存储与并发
   
   - 关键业务
   
     ：
   
     - **连接管理**：采用多线程处理多客户端并发连接，每个客户端对应独立线程
   
     - **考试监控**：为每个学生启动计时器，到期自动发送 "考试结束" 通知
   
     - 数据持久化
   
       ：
   
       - 用户信息（学生、教师、管理员）存储在序列化 Map 文件中
       - 试卷、答卷、批改记录以文本文件分类存储，确保可追溯
   
     - **状态一致性**：提交、批改等操作实时同步内存与文件数据，防止重复提交或数据混乱
   
   ## 三、业务亮点与约束
   
   ### 亮点
   
   1. **流程闭环**：从用户管理→考试→批改→查询形成完整业务链
   2. **鲁棒性设计**：支持网络异常重试、文件状态校验、超时提醒等
   3. **权限分明**：管理员、学生、教师角色分工明确，数据权限严格隔离
   4. **灵活批改**：考试超时由教师人工判断打分，符合实际教学场景
   
   ### 约束
   
   1. 依赖稳定网络环境，Socket 通信中断可能导致数据同步问题
   2. 基于文件存储，大规模并发场景下性能可能受限
   3. 密码以明文形式处理，安全性待提升（需加密优化）
   
   ## 四、业务价值
   
   系统通过规范化考试流程、自动化时间管理、便捷化批改操作，降低了人工组织考试的成本，同时确保考试过程的公平性与可追溯性，适用于中小型教学场景的线上考试管理。